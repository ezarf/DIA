<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<title>Untuk R‚Äôsyh</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script src="https://cdn.tailwindcss.com"></script>

<style>
:root{
  --pink-main:#ec4899;
  --ease-smooth:cubic-bezier(.4,0,.2,1);
}

/* ===== BASE ===== */
body{
  margin:0;
  font-family: ui-sans-serif, system-ui;
  background:#fde7f3;
  overflow:hidden;
}

/* ===== CINEMATIC BACKGROUND ===== */
.bg{
  position:fixed;
  inset:0;
  background:
    radial-gradient(40% 30% at 20% 20%, #ffd6e8, transparent),
    radial-gradient(40% 30% at 80% 30%, #ffeaf4, transparent),
    linear-gradient(180deg,#fde2ef,#fff);
  animation:bgShift 20s ease-in-out infinite alternate;
  z-index:-3;
}
@keyframes bgShift{
  to{filter:hue-rotate(10deg)}
}

/* ===== FLOATING HEARTS ===== */
.heart{
  position:fixed;
  font-size:48px;
  opacity:.12;
  animation:floatUp 18s linear infinite;
  pointer-events:none;
}
@keyframes floatUp{
  from{transform:translateY(110vh) scale(.8)}
  to{transform:translateY(-20vh) scale(1.3)}
}

/* ===== GLASS ===== */
.glass{
  background:rgba(255,255,255,.78);
  backdrop-filter:blur(30px);
  border-radius:32px;
  box-shadow:0 40px 100px rgba(0,0,0,.12);
}

/* ===== ANIMATIONS ===== */
.fade-up{
  opacity:0;
  transform:translateY(20px);
  animation:fadeUp .9s var(--ease-smooth) forwards;
}
@keyframes fadeUp{
  to{opacity:1;transform:none}
}

.scale-in{
  opacity:0;
  transform:scale(.95);
  animation:scaleIn .8s var(--ease-smooth) forwards;
}
@keyframes scaleIn{
  to{opacity:1;transform:scale(1)}
}

/* ===== BUTTON ===== */
.btn{
  padding:14px 42px;
  border-radius:999px;
  font-weight:600;
  transition:transform .3s var(--ease-smooth);
}
.btn:active{transform:scale(.94)}
.btn-yes{background:var(--pink-main);color:#fff}
.btn-no{background:#9ca3af;color:#fff;position:relative}
</style>
</head>

<body class="flex items-center justify-center min-h-screen">

<div class="bg"></div>

<!-- Hearts -->
<script>
for(let i=0;i<16;i++){
  const h=document.createElement("div");
  h.className="heart";
  h.innerText="‚ù§";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDelay=Math.random()*18+"s";
  document.body.appendChild(h);
}
</script>

<!-- TAP -->
<div id="tap"
 class="fixed inset-0 flex items-center justify-center bg-white/90 backdrop-blur z-50">
 <p class="text-pink-500 text-lg animate-pulse">Tap sekali ya üíï</p>
</div>

<!-- CARD -->
<div id="card"
 class="glass p-8 max-w-sm w-full text-center scale-in">

  <h1 class="text-3xl font-bold text-pink-500 mb-4 fade-up"
      style="animation-delay:.2s">
    Hai R‚Äôsyh
  </h1>

  <p class="text-gray-600 mb-6 fade-up"
     style="animation-delay:.6s">
    Aku nggak jago ngomong indah, tapi satu hal pasti‚Ä¶
  </p>

  <iframe id="spotify"
    class="rounded-xl mb-6 opacity-0 transition"
    src="https://open.spotify.com/embed/track/1dGr1c8CrMLDpV6mPbImSI"
    width="100%" height="80"
    allow="autoplay; encrypted-media">
  </iframe>

  <p class="text-lg font-semibold text-gray-700 mb-6 fade-up"
     style="animation-delay:1s">
    Kamu mau jadi pacar aku?
  </p>

  <div class="flex justify-center gap-6 relative">
    <button id="yes" class="btn btn-yes">Iya</button>
    <button id="no" class="btn btn-no">Tidak</button>
  </div>

  <p id="hint"
     class="text-sm text-pink-400 mt-4 opacity-0 transition">
    Kok kamu ngejar sih üò≥
  </p>
</div>

<!-- END -->
<div id="ending"
 class="hidden fixed inset-0 flex items-center justify-center px-6">
 <div class="glass p-8 max-w-md text-center scale-in">
   <p id="e1" class="mb-4"></p>
   <p id="e2" class="mb-4"></p>
   <p id="e3" class="font-medium mb-8"></p>
   <a id="wa" class="btn btn-yes opacity-0 transition">Lanjut ke WhatsApp</a>
 </div>
</div>

<script>
/* ================= ELEMENT ================= */
const tap = document.getElementById("tap");
const spotify = document.getElementById("spotify");
const story = document.getElementById("story");
const yes = document.getElementById("yes");
const no = document.getElementById("no");
const hint = document.getElementById("hint");
const card = document.getElementById("card");
const ending = document.getElementById("ending");

const e1 = document.getElementById("e1");
const e2 = document.getElementById("e2");
const e3 = document.getElementById("e3");
const wa = document.getElementById("wa");

/* ================= OPENING ================= */
tap.onclick = () => {
  spotify.src += "?autoplay=1";
  spotify.style.opacity = 1;
  tap.remove();
  startTimeline();
};

/* ================= EMOTIONAL TIMELINE ================= */
function startTimeline(){
  setTimeout(()=>story.innerText =
    "Aku nggak tau kapan tepatnya, tapi sejak kenal kamu, hal-hal kecil jadi terasa lebih tenang."
  ,4000);

  setTimeout(()=>story.innerText =
    "Lucunya‚Ä¶ kamu nggak berusaha apa-apa. Tapi aku betah."
  ,9000);

  setTimeout(()=>story.innerText =
    "Kalau suatu hari kamu capek sama dunia, aku pengen jadi orang yang kamu cari tanpa sadar."
  ,16000);

  setTimeout(()=>story.innerText =
    "Jadi‚Ä¶ kalau aku minta kesempatan buat jagain kamu pelan-pelan, kamu mau?"
  ,24000);
}

/* ================= IDLE EASTER EGG ================= */
let idleTimer = setTimeout(()=>{
  hint.innerText = "Kamu mikir lama ya‚Ä¶ tenang, aku nggak ke mana-mana.";
  hint.style.opacity = 1;
},12000);

document.body.onclick = ()=>{
  clearTimeout(idleTimer);
};

/* ================= BUTTON TIDAK PSIKOLOGIS ================= */
let chase = 0, x = 0, y = 0;
const hints = [
  "Hei‚Ä¶",
  "Kok kamu ngejar sih üò≥",
  "Kalau gini terus aku salah tingkah‚Ä¶",
  "Yaudah‚Ä¶ aku ngalah."
];

function evade(){
  chase++;
  hint.innerText = hints[Math.min(chase-1, hints.length-1)];
  hint.style.opacity = 1;

  x = Math.max(-90, Math.min(90, x + (Math.random()*100 - 50)));
  y = Math.max(-60, Math.min(60, y + (Math.random()*80 - 40)));
  no.style.transform = `translate(${x}px,${y}px)`;

  if(chase >= 4){
    no.innerText = "Iya";
    no.className = "btn btn-yes";
  }
}

no.onclick = evade;
no.ontouchstart = evade;

/* ================= YES CLICK ‚Äì CINEMATIC END ================= */
yes.onclick = ()=>{
  card.classList.add("opacity-0");
  setTimeout(()=>{
    card.classList.add("hidden");
    ending.classList.remove("hidden");

    setTimeout(()=>e1.innerText = "Aku nggak nyari yang sempurna.",600);
    setTimeout(()=>e2.innerText = "Aku cuma mau yang mau tumbuh bareng.",2200);
    setTimeout(()=>e3.innerText = "Dan hari ini, aku milih kamu.",3800);

    setTimeout(()=>{
      wa.style.opacity = 1;
      wa.href =
        "https://wa.me/6281994446111?text=" +
        encodeURIComponent(
          "Aku jawab IYA. Aku mau jalanin ini pelan-pelan, tapi serius sama kamu ü§ç"
        );
    },5200);
  },600);
};
</script>
